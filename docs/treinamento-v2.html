<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Deploy Guide - PuTTY / PSFTP / MySQL</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .gradient-animate {
      background-size: 200% 200%;
      animation: gradient 15s ease infinite;
    }
  </style>
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">
  <!-- Header com gradiente animado -->
  <header class="gradient-animate bg-gradient-to-r from-violet-600 via-purple-600 to-indigo-600 py-8 shadow-2xl">
    <div class="max-w-6xl mx-auto px-6">
      <h1 class="text-4xl font-bold text-white mb-2">üöÄ Deploy Training Guide</h1>
      <p class="text-violet-100 text-lg">Interactive step-by-step: Upload, Test, Delete & Re-deploy</p>
    </div>
  </header>

  <div class="max-w-6xl mx-auto p-6 space-y-6">
    
    <!-- Credenciais Card -->
    <section class="bg-slate-800 rounded-xl shadow-2xl border border-violet-500/30 overflow-hidden">
      <div class="bg-gradient-to-r from-violet-600/20 to-purple-600/20 px-6 py-4 border-b border-violet-500/30">
        <h2 class="text-xl font-semibold text-violet-300 flex items-center gap-2">
          üîê Credentials <span class="text-xs font-normal text-violet-400">(handle with care)</span>
        </h2>
      </div>
      <div class="p-6 grid md:grid-cols-2 gap-4">
        <div class="space-y-3">
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">SSH Host:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">77.37.126.7</code>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">SSH User:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">srodrigo</code>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">SSH Port:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">22</code>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">MySQL User:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">srodrigo</code>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">MySQL Port:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">3306</code>
          </div>
        </div>
        <div class="space-y-3">
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">Password:</span>
            <code id="password-text" class="bg-slate-900/80 px-3 py-1 rounded text-amber-300 text-sm">@dV#sRnAt98!</code>
            <button id="copy-password-btn" class="bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white px-3 py-1 rounded-lg text-xs font-semibold transition-all duration-200 shadow-lg flex items-center gap-1">
              <span>üìã</span>
              <span id="copy-password-text">Copy</span>
            </button>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-violet-400 font-mono text-sm whitespace-nowrap">Remote Dir:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-xs">/var/www/adv.precifex.com</code>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-violet-400 font-mono text-sm whitespace-nowrap">Local Root:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-xs">C:\xampp\htdocs\www\v2\juridico-php</code>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-violet-400 font-mono text-sm">Target DB:</span>
            <code class="bg-slate-900/80 px-3 py-1 rounded text-violet-200 text-sm">adv</code>
          </div>
        </div>
      </div>
    </section>

    <!-- Overview -->
    <section class="bg-slate-800/50 rounded-xl border border-violet-500/20 p-6">
      <h2 class="text-2xl font-semibold text-violet-300 mb-3">üìã Overview</h2>
      <p class="text-gray-300 leading-relaxed">Three main activities: <span class="text-violet-400 font-semibold">(1) Upload files</span>, <span class="text-purple-400 font-semibold">(2) Run SQL scripts</span>, <span class="text-indigo-400 font-semibold">(3) Verify/Delete/Repeat</span>. Each block provides ready-to-copy commands.</p>
    </section>

    <!-- BLOCK 1: Upload -->
    <section class="bg-slate-800 rounded-xl shadow-2xl border border-violet-500/30 overflow-hidden">
      <div class="bg-gradient-to-r from-violet-600/20 to-purple-600/20 px-6 py-4 border-b border-violet-500/30">
        <h3 class="text-xl font-semibold text-violet-300 flex items-center gap-2">
          üì§ Step 1: Upload Files
        </h3>
      </div>
      <div class="p-6 space-y-6">
        
        <!-- PSCP Command -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-violet-500/20">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold">PowerShell</span>
            <span class="bg-gray-700 text-white px-3 py-1 rounded-full text-xs font-bold">CMD</span>
            <span class="text-gray-400 text-sm">Recommended - Fast bulk upload</span>
          </div>
          <pre class="bg-black/40 p-4 rounded-lg overflow-x-auto border border-violet-500/10"><code id="cmd-pscp" class="text-violet-200 text-sm">pscp -r -P 22 "C:\xampp\htdocs\www\v2\juridico-php\*" srodrigo@77.37.126.7:/var/www/adv.precifex.com/</code></pre>
          <button class="copy-btn mt-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-200 shadow-lg" data-target="cmd-pscp">
            üìã Copy Command
          </button>
        </div>

        <!-- PSFTP Interactive -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-violet-500/20">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-green-600 text-white px-3 py-1 rounded-full text-xs font-bold">PSFTP</span>
            <span class="text-gray-400 text-sm">Interactive mode - Step by step</span>
          </div>
          <pre class="bg-black/40 p-4 rounded-lg overflow-x-auto border border-violet-500/10"><code id="cmd-psftp" class="text-violet-200 text-sm">psftp srodrigo@77.37.126.7
# no prompt psftp>:
lcd C:\xampp\htdocs\www\v2\juridico-php
cd /var/www/adv.precifex.com
mkdir scripts
cd /var/www/adv.precifex.com/scripts
put "C:\xampp\htdocs\www\v2\juridico-php\scripts\criar_new_db.sql"
put -r public
put -r vendor
quit</code></pre>
          <button class="copy-btn mt-3 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-200 shadow-lg" data-target="cmd-psftp">
            üìã Copy Command
          </button>
        </div>

        <!-- Troubleshooting -->
        <details class="bg-slate-900/30 rounded-lg border border-violet-500/10">
          <summary class="cursor-pointer p-4 text-violet-300 font-medium hover:text-violet-200 transition-colors">
            ‚ö†Ô∏è Common Errors & Solutions
          </summary>
          <div class="px-4 pb-4 space-y-2 text-sm text-gray-300">
            <div class="flex items-start gap-2">
              <span class="text-red-400">‚Ä¢</span>
              <div><strong class="text-violet-300">local: unable to open</strong> ‚Äî Run <code class="bg-slate-800 px-2 py-1 rounded text-violet-200">lcd C:\...path</code> or use absolute path in put command.</div>
            </div>
            <div class="flex items-start gap-2">
              <span class="text-red-400">‚Ä¢</span>
              <div>For .ppk keys use: <code class="bg-slate-800 px-2 py-1 rounded text-violet-200">psftp -i C:\path\key.ppk srodrigo@host</code> or load Pageant.</div>
            </div>
          </div>
        </details>
      </div>
    </section>

    <!-- BLOCK 2: SQL Import -->
    <section class="bg-slate-800 rounded-xl shadow-2xl border border-purple-500/30 overflow-hidden">
      <div class="bg-gradient-to-r from-purple-600/20 to-indigo-600/20 px-6 py-4 border-b border-purple-500/30">
        <h3 class="text-xl font-semibold text-purple-300 flex items-center gap-2">
          üóÑÔ∏è Step 2: Run SQL Scripts
        </h3>
      </div>
      <div class="p-6 space-y-6">
        
        <!-- PuTTY Connection -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-purple-500/20">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-orange-600 text-white px-3 py-1 rounded-full text-xs font-bold">PuTTY</span>
            <span class="text-gray-400 text-sm">Connect via SSH</span>
          </div>
          <div class="bg-black/40 p-4 rounded-lg border border-purple-500/10">
            <p class="text-purple-200 text-sm">Use PuTTY GUI with:</p>
            <ul class="mt-2 space-y-1 text-violet-300 text-sm">
              <li>‚Ä¢ Host: <code class="bg-slate-800 px-2 py-1 rounded">77.37.126.7</code></li>
              <li>‚Ä¢ Port: <code class="bg-slate-800 px-2 py-1 rounded">22</code></li>
              <li>‚Ä¢ User: <code class="bg-slate-800 px-2 py-1 rounded">srodrigo</code></li>
            </ul>
          </div>
        </div>

        <!-- Remote Shell Commands -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-purple-500/20">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-teal-600 text-white px-3 py-1 rounded-full text-xs font-bold">SSH Shell</span>
            <span class="text-gray-400 text-sm">Execute after login</span>
          </div>
          <pre class="bg-black/40 p-4 rounded-lg overflow-x-auto border border-purple-500/10"><code id="cmd-remote-1" class="text-purple-200 text-sm"># listar scripts
ls -la /var/www/adv.precifex.com/scripts

# opcional: criar DB (se voc√™ tiver permiss√£o)
mysql -u srodrigo -p -e "CREATE DATABASE IF NOT EXISTS adv CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# importar SQL
mysql -u srodrigo -p adv &lt; /var/www/adv.precifex.com/scripts/criar_new_db.sql</code></pre>
          <button class="copy-btn mt-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-200 shadow-lg" data-target="cmd-remote-1">
            üìã Copy Command
          </button>
        </div>

        <!-- Access Denied Help -->
        <details class="bg-slate-900/30 rounded-lg border border-purple-500/10">
          <summary class="cursor-pointer p-4 text-purple-300 font-medium hover:text-purple-200 transition-colors">
            üö® "Access Denied" Solutions
          </summary>
          <div class="px-4 pb-4 space-y-3 text-sm text-gray-300">
            <p><strong class="text-purple-300">1)</strong> You likely don't have CREATE DATABASE permission.</p>
            <p><strong class="text-purple-300">2)</strong> Ask admin to create DB or run:</p>
            <pre class="bg-black/40 p-3 rounded text-purple-200 text-xs overflow-x-auto">mysql -u root -p -e "CREATE DATABASE adv; GRANT ALL ON adv.* TO 'srodrigo'@'localhost' IDENTIFIED BY '@dV#sRnAt98!'; FLUSH PRIVILEGES;"</pre>
            <p><strong class="text-purple-300">3)</strong> Alternative - modify SQL file before import:</p>
            <pre class="bg-black/40 p-3 rounded text-purple-200 text-xs overflow-x-auto">cd /var/www/adv.precifex.com/scripts
cp criar_new_db.sql novo_banco_adv.sql
sed -i -e '/^CREATE DATABASE/Id' -e 's/USE juridico;/USE adv;/Ig' novo_banco_adv.sql
mysql -u srodrigo -p adv &lt; novo_banco_adv.sql</pre>
          </div>
        </details>
      </div>
    </section>

    <!-- BLOCK 3: Verify & Clean -->
    <section class="bg-slate-800 rounded-xl shadow-2xl border border-indigo-500/30 overflow-hidden">
      <div class="bg-gradient-to-r from-indigo-600/20 to-blue-600/20 px-6 py-4 border-b border-indigo-500/30">
        <h3 class="text-xl font-semibold text-indigo-300 flex items-center gap-2">
          üîç Step 3: Verify, Delete & Repeat
        </h3>
      </div>
      <div class="p-6 space-y-6">
        
        <!-- Verification Commands -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-indigo-500/20">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-cyan-600 text-white px-3 py-1 rounded-full text-xs font-bold">MySQL</span>
            <span class="text-gray-400 text-sm">Check database & tables</span>
          </div>
          <pre class="bg-black/40 p-4 rounded-lg overflow-x-auto border border-indigo-500/10"><code id="cmd-check" class="text-indigo-200 text-sm"># mostrar DBs
mysql -u srodrigo -p -e "SHOW DATABASES LIKE 'adv';"

# listar tabelas no adv
mysql -u srodrigo -p adv -e "SHOW TABLES;"

# contar registros na tabela kanban_cards
mysql -u srodrigo -p adv -e "SELECT COUNT(*) FROM kanban_cards;"</code></pre>
          <button class="copy-btn mt-3 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-200 shadow-lg" data-target="cmd-check">
            üìã Copy Command
          </button>
        </div>

        <!-- Drop Commands -->
        <div class="bg-slate-900/50 rounded-lg p-5 border border-red-500/30">
          <div class="flex items-center gap-3 mb-3">
            <span class="bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold">‚ö†Ô∏è DANGER</span>
            <span class="text-gray-400 text-sm">Drop all tables (testing only)</span>
          </div>
          <pre class="bg-black/40 p-4 rounded-lg overflow-x-auto border border-red-500/10"><code id="cmd-drop" class="text-red-200 text-sm"># cuidado: remove todas as tabelas no DB adv
mysql -u srodrigo -p adv -e "SET FOREIGN_KEY_CHECKS=0; \
$(mysql -u srodrigo -p -N -B adv -e "SHOW TABLES" | sed "s/.*/DROP TABLE IF EXISTS &;/" | tr '\n' ' ') \
; SET FOREIGN_KEY_CHECKS=1;"

# alternativa manual:
mysql -u srodrigo -p -e "DROP DATABASE IF EXISTS adv; CREATE DATABASE adv;"</code></pre>
          <button class="copy-btn mt-3 bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700 text-white px-5 py-2 rounded-lg font-semibold transition-all duration-200 shadow-lg" data-target="cmd-drop">
            ‚ö†Ô∏è Copy Dangerous Command
          </button>
          <div class="mt-3 bg-red-900/20 border border-red-500/30 rounded-lg p-3">
            <p class="text-red-300 text-xs flex items-center gap-2">
              <span class="text-xl">‚ö†Ô∏è</span>
              <strong>WARNING:</strong> These commands PERMANENTLY delete data. Use ONLY for testing!
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Checklist -->
    <section class="bg-slate-800/50 rounded-xl border border-violet-500/20 overflow-hidden">
      <details>
        <summary class="cursor-pointer p-5 text-violet-300 font-semibold text-lg hover:bg-slate-800/80 transition-colors">
          ‚úÖ Quick Checklist
        </summary>
        <div class="px-6 pb-6 space-y-2">
          <div class="flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg">
            <span class="text-violet-400 font-bold">1.</span>
            <span class="text-gray-300">Upload scripts to /var/www/adv.precifex.com/scripts</span>
          </div>
          <div class="flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg">
            <span class="text-purple-400 font-bold">2.</span>
            <span class="text-gray-300">Confirm SQL file presence on server (ls -la ...)</span>
          </div>
          <div class="flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg">
            <span class="text-indigo-400 font-bold">3.</span>
            <span class="text-gray-300">Import SQL to 'adv' database (or request permissions)</span>
          </div>
          <div class="flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg">
            <span class="text-blue-400 font-bold">4.</span>
            <span class="text-gray-300">Verify tables and seed data</span>
          </div>
          <div class="flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg">
            <span class="text-cyan-400 font-bold">5.</span>
            <span class="text-gray-300">Drop tables and repeat tests when necessary</span>
          </div>
        </div>
      </details>
    </section>

  </div>

  <!-- Footer -->
  <footer class="mt-12 pb-8 text-center">
    <div class="max-w-6xl mx-auto px-6">
      <div class="bg-slate-800/50 rounded-lg border border-violet-500/20 p-6">
        <p class="text-violet-300 text-sm">üîí Auto-generated file. Handle credentials with care.</p>
        <p class="text-gray-500 text-xs mt-2">Deploy Training Guide v2.0 ‚Ä¢ January 2026</p>
      </div>
    </div>
  </footer>

  <script>
    // Copy password button
    document.getElementById('copy-password-btn').addEventListener('click', async () => {
      const passwordText = document.getElementById('password-text').innerText
      const btnText = document.getElementById('copy-password-text')
      
      try {
        await navigator.clipboard.writeText(passwordText)
        btnText.textContent = 'Copied!'
        
        setTimeout(() => {
          btnText.textContent = 'Copy'
        }, 2000)
      } catch(e) {
        alert('‚ùå Copy failed. Please copy manually.')
      }
    })

    // Enhanced copy functionality with visual feedback
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', async () => {
        const id = btn.getAttribute('data-target')
        const el = document.getElementById(id)
        if (!el) return
        
        const text = el.innerText.replace(/\u00A0/g, ' ')
        
        try {
          await navigator.clipboard.writeText(text.trim())
          const originalText = btn.innerHTML
          btn.innerHTML = '‚úÖ Copied!'
          btn.classList.add('scale-95')
          
          setTimeout(() => {
            btn.innerHTML = originalText
            btn.classList.remove('scale-95')
          }, 2000)
        } catch(e) {
          alert('‚ùå Copy failed. Please select and copy manually.')
        }
      })
    })
  </script>
</body>
</html>